<template name="document_view">
  <div class='z-mongo-admin'>
    {{#if loggingIn}}
      {{> spinner}}
    {{else}}
      <div class="container content">
        <ul class="breadcrumb">
          <li><a href="/admin" class="home">Home</a>
          <li><a href="/admin/{{collection_name}}" class="collection">{{collection_name}}</a>
          <li class="active">{{document_id}}</li>
          <li><button class='btn logout'>Log out</button></li>
        </ul>
        <h1>{{document_id}}</h1>
        <div id="doc-saved" class="alert alert-success {{adminHide}}">Your document was saved!</div>
        <table class='table'>
          <tbody>
            {{# each fields }}
              {{> admin_document_field}}
            {{/each}}
          </tbody>
        </table>
        <span class="btn admin-save">Save</span>
        <span class="btn admin-delete">Delete</span>
      </div>
    {{/if}}
  </div>
</template>

<template name="admin_document_field">
  <tr>
    <td>{{ field_name }}:</td>
    {{#if field_is_id}}
      <td>{{ field_value }}</td>
    {{else}}
    <td>
        <textarea class="field" name="{{ field_name }}">{{ field_value }}</textarea>
    </td>
    {{/if}}
  </tr>
</template>
